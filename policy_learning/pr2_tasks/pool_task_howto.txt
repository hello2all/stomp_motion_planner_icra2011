Check out

https://home.willowgarage.com/wgwiki/Sprints/PoolShark

$ roslaunch billiards_launch _main_.launch # brings up actions and assorted things
$ rosrun billiards_executive play_toplevel.py # starts the executive

Set fixed table frame:

 $ rosrun tf static_transform_publisher 1.03 0.52 0.71 1.56 0 0 base_link table 100

Prosillica:

1) Adjust to lightning: (on esp)

 $ rosrun dynamic_reconfigure reconfigure_gui

2) Prosillica Offsetter: (on prn) 

 $ roslaunch prosilica_offsetter.launch (in billiards_launch)

then run

 $ bin/keyboard_interface (camera_offsetter)

Then use x,y,z to match the virtual pool table with real pool table
Check also http://www.ros.org/wiki/camera_offsetter

3) Ball detector: (on esp)

Run roslaunch offline.launch (in billiard_ball_detector)
and choose /ball_detector_offline in the reconfigure tool

tune the parameters until the binarized view shows the balls as white and everything else as black

store parameters (screenshot) and transfer them to ball_detector
